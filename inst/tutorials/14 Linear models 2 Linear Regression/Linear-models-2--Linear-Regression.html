<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Rob Knell" />


<meta name="progressive" content="false" />
<meta name="allow-skip" content="false" />

<title>Linear models 2: Linear Regression</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>

<link rel="stylesheet" href="css/test.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-fitting-lines-to-bivariate-data" class="section level2">
<h2>Fitting lines to bivariate data</h2>
<p>We very often find ourselves with sets of <em>bivariate data</em>: two separate variables have been measured for each thing we’re interested in. This might be genetic variability and distance from another population, it might be nutrient intake and immune response, it might be height on a mountain and the size of a plant, or it might be any number of combinations of variables. Quite often in these circumstances we are interested in the effect that one variable (often called the <em>independent</em> variable) has on another (the <em>dependent</em> variable). Sometimes we find complex relationshpis between variables wthat have to be described by some form of curve, but sometimes we are lucky and there is a simple relationship between the two which we can describe with a straight line. In this case we can use a type of linear model where instead of relating our response variable to an explanatory variable which is a factor with discrete levels, as you saw when we were looking at ANOVA, we use a continuous explanatory variable and we describe the relationship in terms of the slope and the intercept of the straight line which best describes how the dependent variable changes with the independent variable. This form of analysis is often called <em>linear regression</em> and the basics are explained in this video:</p>
<p>VIDEO</p>
<p>Let’s work though an example of a linear regression. The <code>Latitude_diversity</code> data set contains data on tree diversity from 24 forest plots in locations ranging from the tropics to northern Europe and the USA<sup>1</sup>. One of the measures we have for each plot is the Shannon diversity index, a measure of the overall diversity of trees present, and another is the latitude of the plot. Let’s have a look at these data with a scatterplot. We’ll use the absolute value of latitude because some values are negative (the plot is South of the Equator) but the pattern we’re interested in is how diversity changes with distance from the equator.</p>
<div class="sourceCode" id="section-cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>diversity &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://github.com/rjknell/Linear_models/raw/master/data/Latitude_diversity.csv&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">plot</span>(Shannon_diversity <span class="op">~</span><span class="st"> </span><span class="kw">abs</span>(Latitude),</span>
<span id="cb1-4"><a href="#cb1-4"></a>            <span class="dt">data =</span> diversity,</span>
<span id="cb1-5"><a href="#cb1-5"></a>            <span class="dt">pch =</span> <span class="dv">16</span>,</span>
<span id="cb1-6"><a href="#cb1-6"></a>            <span class="dt">col =</span> <span class="st">&quot;aquamarine4&quot;</span>,</span>
<span id="cb1-7"><a href="#cb1-7"></a>            <span class="dt">ylab =</span> <span class="st">&quot;Shannon diversity&quot;</span>,</span>
<span id="cb1-8"><a href="#cb1-8"></a>            <span class="dt">xlab =</span> <span class="st">&quot;Absolute latitude&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="Linear-models-2--Linear-Regression_files/figure-html/unnamed-chunk-1-1.png" alt="**Figure 1** Shannon diversity for trees plotted against latitude for 24 forest plots" width="480" />
<p class="caption">
<strong>Figure 1</strong> Shannon diversity for trees plotted against latitude for 24 forest plots
</p>
</div>
<p>As you can see the Shannon diversity index decreases with increasing latitude, and just from looking at these data we can see that they might be suitable for linear regression analysis. We have a clear potential direction of causality (diversity does not cause latitude but latitude might cause diversity), the relationship is not obviously different from a straight line and the data don’t have any obvioius skew, outliers or other wierdness.</p>
<p>If we want to find the line that best allows us to predict the Shannon diversity of a patch of forest from its latitude, we can fit a linear regression using the <code>lm()</code> (for linear model) function with a <em>formula</em> specifying exactly what we want the function to fit, much as we’ve seen for ANOVA and also for plotting data — in fact the formula we’ll use with <code>lm()</code> here is exactly the same as the one we used to generate the plot. We have the <em>response variable</em> (AKA the dependent variable), then a <em>tilde</em> (~), the symbol which means “as explained by” in an R formula, and then the <em>explanatory variable</em>, AKA the independent variable. If both are in the same data frame we can use the <code>data =</code> argument to tell R where to look. To fit a linear model to these data, therefore we can use this code:</p>
<div class="sourceCode" id="section-cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>L1 &lt;-<span class="st"> </span><span class="kw">lm</span>(Shannon_diversity <span class="op">~</span><span class="st"> </span><span class="kw">abs</span>(Latitude), <span class="dt">data =</span> diversity)</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>L1</span></code></pre></div>
<pre><code>
Call:
lm(formula = Shannon_diversity ~ abs(Latitude), data = diversity)

Coefficients:
  (Intercept)  abs(Latitude)  
      4.81587       -0.07408  </code></pre>
<p>Just inputting the name of the fitted <code>lm()</code> object returns the formula and the model coefficients. The first one, labelled <em>Intercept</em> is the y-intercept, or the predicted value when the explanatory variable is zero, which in this case would be the predicted Shannon diversity at the equator, which is 4.82. The second one, labelled with the name of the <em>explanatory variable</em> is the slope of the relationship, or in other words the amount by which we predict the Shannons diversity index to change with every degree of increase in latitude. Putting these into the equation of a straight line we get:</p>
<p><span class="math display">\[ y = -0.0741 \times |latitude| + 4.82\]</span> and we can draw this onto our scatterplot using the <code>abline()</code> function.</p>
<div class="sourceCode" id="section-cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">plot</span>(Shannon_diversity <span class="op">~</span><span class="st"> </span><span class="kw">abs</span>(Latitude),</span>
<span id="cb4-2"><a href="#cb4-2"></a>            <span class="dt">data =</span> diversity,</span>
<span id="cb4-3"><a href="#cb4-3"></a>            <span class="dt">pch =</span> <span class="dv">16</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>            <span class="dt">col =</span> <span class="st">&quot;aquamarine4&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>            <span class="dt">ylab =</span> <span class="st">&quot;Shannon diversity&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6"></a>            <span class="dt">xlab =</span> <span class="st">&quot;Absolute latitude&quot;</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="kw">abline</span>(</span>
<span id="cb4-9"><a href="#cb4-9"></a>  <span class="dt">a =</span> <span class="fl">4.82</span>,</span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="dt">b =</span> <span class="fl">-0.0741</span>,</span>
<span id="cb4-11"><a href="#cb4-11"></a>  <span class="dt">lwd =</span> <span class="fl">1.5</span>,</span>
<span id="cb4-12"><a href="#cb4-12"></a>  <span class="dt">col =</span> <span class="st">&quot;aquamarine4&quot;</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>)</span></code></pre></div>
<div class="figure">
<img src="Linear-models-2--Linear-Regression_files/figure-html/unnamed-chunk-3-1.png" alt="**Figure 2** Shannon diversity for trees plotted against latitude for 24 forest plots with a line fitted from a linear regression" width="480" />
<p class="caption">
<strong>Figure 2</strong> Shannon diversity for trees plotted against latitude for 24 forest plots with a line fitted from a linear regression
</p>
</div>
<p>Is the line a good fit to the data? It’s not perfect of course because there’s a fair amount of noise in these data but just from looking at it we can see that it’s going to be difficult to find anything better. Is the line statistically significant? As we saw in the video, fitting a linear regression involves partitioning variance in a very similar way to what happens with an ANOVA, and just like an ANOVA we can carry out an F-test to see if the amount of variance explained by our fitted model (the treatment variance or the treatment MS) is greater than that which is unexplained (the error variance or MS error, or as R labels it the residual variance). Using the <code>anova()</code> function on our model will generate an ANOVA table just like the one we saw when we looked at single factor ANOVA.</p>
<div class="sourceCode" id="section-cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">anova</span>(L1)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Sum Sq"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Mean Sq"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["F value"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"29.3267","3":"29.326698","4":"37.67034","5":"3.539518e-06","_rn_":"abs(Latitude)"},{"1":"22","2":"17.1272","3":"0.778509","4":"NA","5":"NA","_rn_":"Residuals"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>This is calculated in the same way as the ANOVA table for a single factor ANOVA, except that instead of calculating the SS error (or the Residual Sum of Squares as R calls it) by subtracting a group mean from each data point we subtract the predicted value of the fitted line: so if we have a data point which has a latitude of 9.15 and a Shannon diversity of 4.0 (This is Barro Colorado Island, Panama in our data) the predicted value is <span class="math inline">\(4.82 - 0.0741 \times 9.15 = 4.142\)</span>. <span class="math inline">\((x - \bar{x})^2\)</span> is therefore <span class="math inline">\(\left( 4.0 - 4.142 \right)^2 = 0.020\)</span> for this particular data point. Just to make the point we can calculate our sums of squares separately.</p>
<div class="sourceCode" id="section-cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>SSTotal &lt;-<span class="st"> </span><span class="kw">sum</span>((diversity<span class="op">$</span>Shannon_diversity <span class="op">-</span><span class="st"> </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">                  </span><span class="kw">mean</span>(diversity<span class="op">$</span>Shannon_diversity))<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a>SSError &lt;-<span class="st"> </span><span class="kw">sum</span>((diversity<span class="op">$</span>Shannon_diversity <span class="op">-</span><span class="st"> </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">                  </span>(<span class="fl">4.82</span> <span class="op">-</span><span class="st"> </span><span class="fl">0.0741</span> <span class="op">*</span><span class="st"> </span><span class="kw">abs</span>(diversity<span class="op">$</span>Latitude)))<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a>               </span>
<span id="cb6-7"><a href="#cb6-7"></a>SSTreatment &lt;-<span class="st"> </span>SSTotal <span class="op">-</span><span class="st"> </span>SSError</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="kw">cat</span>(<span class="st">&quot;SSTreatment = &quot;</span>,SSTreatment)</span></code></pre></div>
<pre><code>SSTreatment =  29.32639</code></pre>
<div class="sourceCode" id="section-cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">cat</span>(<span class="st">&quot;SSError = &quot;</span>,SSError)</span></code></pre></div>
<pre><code>SSError =  17.12751</code></pre>
<p>Compare these to the ANOVA table above and you can see that they match the entries in the Sum Sq column. The Mean square values are just the Sums of Squares divided by the degrees of freedom and the F statistic is the Mean square treatment (labelled as <code>abs(Latitude)</code> here) divided by the Mean Square error (labelled <code>Residuals</code> here).</p>
<p>In practice we don’t need to calculate our sums of squares separately, nor do we even need to use <code>anova()</code> to get an ANOVA table for our linear regression. If we use <code>summary()</code> on our fitted model object we can get all the information we need.</p>
<div class="sourceCode" id="section-cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">summary</span>(L1)</span></code></pre></div>
<pre><code>
Call:
lm(formula = Shannon_diversity ~ abs(Latitude), data = diversity)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.3336 -0.2990  0.1341  0.6496  1.1379 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)    4.81587    0.35481  13.573 3.61e-12 ***
abs(Latitude) -0.07408    0.01207  -6.138 3.54e-06 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.8823 on 22 degrees of freedom
Multiple R-squared:  0.6313,    Adjusted R-squared:  0.6145 
F-statistic: 37.67 on 1 and 22 DF,  p-value: 3.54e-06</code></pre>
<p>The model summary should be somewhat familiar to you from the ANOVA tutorial. Here it follows the same layout, so we have a reminder of what the model formula is, some summary statistics for the <em>residuals</em>, then the table of coefficients. This table has the estimate for the intercept and the slope of the line, their standard errors and some p-values derived from marginal t-tests. The p-value for both the intercept and the slope tell us in this case that they are both significantly different from zero. That’s not especially useful for the intercept except in some particular cases, but it is of course an important hypothesis test for the slope: the null hypothesis for most linear regressions is that the slope is equal to zero. If you’ve ever been taught to test for the significance of a regression using a t-test this is the equivalent of what you were taught previously.</p>
<p>After the coefficients table there are some summary statistics for our model fit. The most commonly used one of these is the R-squared value (here written as “Multiple R-squared”) which is telling us the proportion of the overall variation which is explained by our model. This is the same as the R-squared value that you might have enountered in correlation analysis and we can derive it ourselves from the SSTreatment and SSTotal which we calculated earlier:</p>
<div class="sourceCode" id="section-cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>SSTreatment <span class="op">/</span><span class="st"> </span>SSTotal</span></code></pre></div>
<pre><code>[1] 0.6313009</code></pre>
<p>Which is the same value as the one in the table. So overall, latitude explains 63% of the overall variaotin in diversity. In ecology at least that’s a high value for r-squared and indicates that the relationship between latitude and diversity is a strong one. The adjusted R-squared value is adjusted by the number of explanatory variables in the model and we can ignore it because a) we’ve only got one explanatory variable and b) no-one uses it anyway.</p>
The last line of the output from <code>summary()</code> gives us the same F-statistic and test that we had form our ANOVA table. You might notice that the p-value from the t-test in the coefficients table is in fact exactly the same as the one for the F-test based on partitioning the variance. This is the case for linear regression with a single explanatory variable only so be a little careful about the marginal value from the coefficients table: yes in this case it’s also equivalent to a significance test for the whole model, but don’t think it is when you’re dealing with more complex statistical models with multiple explanatory variables. It’s quite common for people to get a bit confused over this so best to make it clear now. <br><br>
<hr>
<p>1: Originally published in LaManna, J.A., Mangan, S.A., Alonso, A., Bourg, N.A., Brockelman, W.Y., Bunyavejchewin, S., Chang, L.-W., Chiang, J.-M., Chuyong, G.B., Clay, K., Condit, R., Cordell, S., Davies, S.J., Furniss, T.J., Giardina, C.P., Gunatilleke, I.A.U.N., Gunatilleke, C.V.S., He, F., Howe, R.W., Hubbell, S.P., Hsieh, C.-F., Inman-Narahari, F.M., Janík, D., Johnson, D.J., Kenfack, D., Korte, L., Král, K., Larson, A.J., Lutz, J.A., McMahon, S.M., McShea, W.J., Memiaghe, H.R., Nathalang, A., Novotny, V., Ong, P.S., Orwig, D.A., Ostertag, R., Parker, G.G., Phillips, R.P., Sack, L., Sun, I.-F., Tello, J.S., Thomas, D.W., Turner, B.L., Vela Díaz, D.M., Vrška, T., Weiblen, G.D., Wolf, A., Yap, S. &amp; Myers, J.A. (2017) Plant diversity increases with the strength of negative density dependence at the global scale. Science, 356, 1389–1392.</p>
</div>
<div id="section-linear-regression-assumptions-and-diagnostics" class="section level2">
<h2>Linear regression assumptions and diagnostics</h2>
<p>As with all linear models, there are certain assumptions regarding the data we’re analysing which need to be met, or at least partially met, for our analysis to be valid. We’ve looked at most of these in detail in the tutorial for ANOVA, but just as a reminder the assumptions for ANOVA are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Independence of data</strong> — we’re assuming that there is no underlying structure in our data set that makes some data points more similar than others. This might arise if we had 10 measurements of mouse weight but four of the mice were siblings while the rest were unrelated. If this were the case then the four siblings would probably be more similar to each other than to the rest of the mice, which would violate our assumption of independence. This is more of an issue for experimental design than analysis but it is also arguably the most important.</p></li>
<li><p><strong>Normal errors</strong> — when we subtract the predicted values from the actual data, what’s left (the <em>residuals</em>), which represents the <em>error</em> or the variance we’re unable to explain, should be at least approximately normally distributed. Just as a reminder, the assumption is that the <em>errors</em> are normal, not that the response variable overall is normally distributed.</p></li>
<li><p><strong>Equality of variance</strong> — for ANOVA this means that the variance for alll the groups should be approximately equal, for regression it means that the variance should not change much as we go from low to high values of the explanatory variable. In other words the amount of spread around the fitted line should be roughly the same at all values of the explanatory variable.</p></li>
</ol>
<p>Finally, there is a fourth assumption which we make for linear regression but not ANOVA which is <strong>linearity</strong> — we’re fitting a straight line to describe the relationship between our response and explanatory variable, but if the relationship between them is actually better described by a curve of some sort rather than a straight line then it’s going to be better to fit a curve.</p>
<p>As we did with our ANOVA we can use diagnostic plots to check how well our data conform to these assumptions. Here’s a link to the video we looked at for the ANOVA tutorial in case you need reminding:</p>
<p>VIDEO</p>
<p>Let’s check our fitted linear regression using the <code>plot()</code> function on our fitted model object. We’ll just look at the first two diagnostic plots becuse they’re the most informative.</p>
<div class="sourceCode" id="section-cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># PLot the first and second diagnostic plots</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="kw">plot</span>(L1, <span class="dt">which =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Linear-models-2--Linear-Regression_files/figure-html/unnamed-chunk-8-1.png" width="480" /><img src="Linear-models-2--Linear-Regression_files/figure-html/unnamed-chunk-8-2.png" width="480" /></p>
<p>On the left we have the plot of residuals versus fitted values, and on the right we have the qq plot of the residuals. What we’re hoping to see in the residuals vs fitted values plot is a cloud of points with no pattern, centred vertically around zero. For the qq plot we’d like to see all of our points nicely lined up, which is what we’d see if the residuals followed a normal distribution closely.</p>
<p>Starting with the left-hand plot, there’s no obvious pattern in terms of changing variances or curves that might indicate non-linearity. There are some points with rather large negative residuals and these reflect the couple of data points with lower diversity for their latitude that you can see on the scatterplot we drew earlier. Should we be concerned about this? Maybe, maybe not. R has kindly given us their row numbers (10 and 11) and if we look at where these two points are from</p>
<div class="sourceCode" id="section-cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>diversity<span class="op">$</span>Country[<span class="dv">10</span><span class="op">:</span><span class="dv">11</span>]</span></code></pre></div>
<pre><code>[1] &quot;Hawaii USA&quot; &quot;Hawaii USA&quot;</code></pre>
<p>We find that both are from Hawaii. Let’s just visualise them on th scatterplot with a fitted line which we drew before.</p>
<div class="sourceCode" id="section-cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">plot</span>(Shannon_diversity <span class="op">~</span><span class="st"> </span><span class="kw">abs</span>(Latitude),</span>
<span id="cb17-2"><a href="#cb17-2"></a>            <span class="dt">data =</span> diversity,</span>
<span id="cb17-3"><a href="#cb17-3"></a>            <span class="dt">pch =</span> <span class="dv">16</span>,</span>
<span id="cb17-4"><a href="#cb17-4"></a>            <span class="dt">col =</span> <span class="st">&quot;aquamarine4&quot;</span>,</span>
<span id="cb17-5"><a href="#cb17-5"></a>            <span class="dt">ylab =</span> <span class="st">&quot;Shannon diversity&quot;</span>,</span>
<span id="cb17-6"><a href="#cb17-6"></a>            <span class="dt">xlab =</span> <span class="st">&quot;Absolute latitude&quot;</span>)</span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="kw">points</span>(diversity<span class="op">$</span>Shannon_diversity[diversity<span class="op">$</span>Country <span class="op">==</span><span class="st"> &quot;Hawaii USA&quot;</span>] <span class="op">~</span><span class="st"> </span><span class="kw">abs</span>(diversity<span class="op">$</span>Latitude[diversity<span class="op">$</span>Country <span class="op">==</span><span class="st"> &quot;Hawaii USA&quot;</span>]),</span>
<span id="cb17-9"><a href="#cb17-9"></a>            <span class="dt">cex =</span> <span class="dv">2</span>)</span>
<span id="cb17-10"><a href="#cb17-10"></a></span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="kw">abline</span>(</span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="dt">a =</span> <span class="fl">4.82</span>,</span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="dt">b =</span> <span class="fl">-0.0741</span>,</span>
<span id="cb17-14"><a href="#cb17-14"></a>  <span class="dt">lwd =</span> <span class="fl">1.5</span>,</span>
<span id="cb17-15"><a href="#cb17-15"></a>  <span class="dt">col =</span> <span class="st">&quot;aquamarine4&quot;</span></span>
<span id="cb17-16"><a href="#cb17-16"></a>)</span></code></pre></div>
<div class="figure">
<img src="Linear-models-2--Linear-Regression_files/figure-html/unnamed-chunk-10-1.png" alt="**Figure 4** Shannon diversity for trees plotted against latitude for 24 forest plots with a line fitted from a linear regression, with data from Hawaii indicated by a black circle" width="480" />
<p class="caption">
<strong>Figure 4</strong> Shannon diversity for trees plotted against latitude for 24 forest plots with a line fitted from a linear regression, with data from Hawaii indicated by a black circle
</p>
</div>
<p>We have two points from the same place both of which are uncharactersitically far from the line. Because linear models are fitted by minimsing the <em>squared</em> distances from each data point then data which are far from the line can have substantial effects on the overall fit of the model and these two data points are probably pulling the line further towards the x-axis than it would otherwise be. Should we keep them in? It is possible that there is something special about Hawaii which means that the diversity here doesn’t follow the same patterns as in other parts of the world — Hawaii is more isolated than all the other locations, and is geologically relatively recent. On that basis it could be that if we excluded these data we would get a better description of the relationship between tree diversity and latitude in continental or near-continental locations. If that was our main aim with this analysis then such an exclusion might be justified, but if we are interested in the overall patterns of diversity and are not concerned about whether our data are from isolated islands or not then we might keep these data in the analysis. In general it’s best to be very cautious about excluding data from an analysis and only to do it when there is a very good reason to do so.</p>
<p>The qq plot is just about acceptable. The residuals with the highest and lowest values are both below the line, indicating that the lowest values are smaller than we would expect (this reflects the low values for diversity in Hawaii which we just discussed) and the highest values are also a little lower than expected. Most of the points are on the line or close to it, however, and it’s not obvious that there’s much we could do to make things better aside from removing the two Hawaiian data points, and you should be reluctant to do that without a really compelling reason.</p>
<p>As a final note, you might have spotted that these data are actually violating our assumption of independence to some extent because of their geographical locations. Two data points are from Hawaii, and we’ve seen that they are both rather similar to each other and different from all the others. There are also several from SE Asia and a whopping nine from the Continental USA. Because of their geographical closeness these data are more likely to be similar to each other than to data points from similar latitudes but from further away. Is this a concern? Yes and no… in practice it is often difficult or impossible to remove all dependence between our data and so, as scientists, we tend to tolerate some non-independence, with the amount we are prepared to overlook being really a judgement call that’s based on intuition, how accurate we need to be with our estimates of effect size and (realistically) what we think others, including potential reviewers, will be OK with.</p>
<p>Some non-independence between data can actually be controlled for statistically, so if we were really concerned about this <em>spatial autocorrelation</em> in our data we could use an analysis technique that took it into account, but that is a rather advanced topic so we’ll leave it at that.</p>
</div>
<div id="section-exercise-1-analysing-bird-abundance-near-villages-in-gabon" class="section level2">
<h2>Exercise 1: analysing bird abundance near villages in Gabon</h2>
<p>In 2017, Sally Koerner and co-authors<sup>1</sup> published a study of how animal abundance changes with distance from villages in Gabon. This involved establishing 24 2.5km transects at varying distances from the nearest village, monitoring them monthly and recording all of the mammals and birds encountered. We’ll look at a small subset of their data, focussing on how the relative abundance of ungulates and rodents changed with the distance from the nearest village. Relative abundance was calculated for each group of animals as the percentage of all encounters on that transect which were with that particular group.</p>
<p>We can load these data from Github:</p>
<div class="sourceCode" id="section-cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>gabon &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;https://github.com/rjknell/Linear_models/raw/master/data/Koerner_et_al_2017.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>Whenever we load some data it’s a good idea to look at the structure of the freshly imported data frame with the <code>str</code> function.</p>
<div class="tutorial-exercise" data-label="structure" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="structure-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is very straightforward: just use 
# str() with the name of the data frame in question</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="structure-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution:

str(gabon)</code></pre>
</div>
<p>You should see that we have quite a few variables in this data frame of varying types, so <code>TransectID</code> and <code>NumHouseholds</code> are integers, there are quite a few numeric variables including some describing the environment around the transect, such as Veg_canopy which is a measure of how closed the canopy is in the area, and also our measures of the relative abundance of the different groups of animals (<code>RA_Apes</code>, <code>RA_Birds</code> etc) are also numeric vectors. Finally we have two factors, <code>LandUse</code> and <code>HuntCat</code> which have imported as factors becuase we set <code>stringsAsFactors = TRUE</code> in our <code>read.csv()</code> function call. We’re not going to look at these further in this exercise but whenever you import a factor it’s a good idea to check that the number of levels is correct because if there is any problem with the data it can often show up here. In this case we know that there should be three levels of each so that’s OK.</p>
<p>For this exercise we’re just going to use the relative abundance data and the distance from each village. We’d like to know how the relative abundance of some of these groups of animals changes with how far the transect is from the nearest village, and we’ll use linear regression to do this. We’re not going to do this for all the animal groups, rather for this exercise we’ll just look at the birds.</p>
<p>If we want to look at the relationship between relative abundance and distance, it’s clear which variables are response and explanatory (or dependent and independent) — firstly we are interested in the processes affecting animal abundance not village geography, and secondly the relative abundance of birds, rodents or ungulates is unlikely to be affecting the distance from the nearest village, but the distance might be affecting the relative abundance, so there is a fairly clear direction of causality. This means <code>Distance</code> is going to be the explanatory variable in all of our analyses.</p>
<p>Let’s start with the birds. As always, before we do anything else we’ll plot out our data and have a look at it. In this case we’d like a scatterplot with <code>RA_Birds</code> on the y-axis and <code>Distance</code> on the x-axis. Don’t forget to add sensible axis labels.</p>
<div class="tutorial-exercise" data-label="bird_plot" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="6">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="bird_plot-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is just a scatterplot like the ones we 
# were looking at before. Use the plot() function
# Remember y-variable ~ x-variable for the formula, 
# tell R which dataframe to use with data = 
# and specify the x- and y-axis labels with
# xlab =  and ylab = </code></pre>
</div>
<div class="tutorial-exercise-support" data-label="bird_plot-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Don&#39;t forget to check that there are commas 
# between each argument and that your brackets match</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="bird_plot-hint-3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># The formula is
RA_Birds ~ Distance

# The dataset is specified with
data = Distance

# The axis labels are something like
xlab = &quot;Distance from nearest village (Km)&quot;

# and

ylab = &quot;Relative abundance of birds&quot;</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="bird_plot-hint-4" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution

plot(RA_Birds ~ Distance,
     data = gabon,
     xlab = &quot;Distance from nearest village (Km)&quot;,
     ylab = &quot;Relative abundance of birds&quot;)</code></pre>
</div>
<p>Looking at this plot you can see that there appears to be a negative relationship between distance and relative abundance of birds. Can you see anything in the plot that might be a cause for concern with regards to fitting a linear regression to these data?</p>
<p>There aren’t any obviously problematic data points, so none with values that are clearly radically different from all of the rest, or with values which would be impossible such as a negative relative abundance or a distance of 20000 Km from the nearest village. There’s maybe a hint of non-linearity if you squint and turn the plot sideways but nothing more than that, and there’s nothing in the plot to suggest big changes in variance as distance increases or decreases. All in all these data look quite well behaved so let’s go ahead and fit a regression. You need to save the regression as an object and I would suggest <code>B1</code> as a suitable name. Fill in the correct variable names to replace “response” and “explanatory” in the formula to fit your regression and then add a line to bring up the summary of the B1 object.</p>
<div class="tutorial-exercise" data-label="bird_regression" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>B1 &lt;- lm(response ~ explanatory, data = gabon)</code></pre>
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="bird_regression-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># The response variable is RA_Birds
# The explanatory variable is Distance</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="bird_regression-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Use the summary() function to access
# the summary of the fitted model</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="bird_regression-hint-3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#This is the solution

B1 &lt;- lm(RA_Birds ~ Distance, data = gabon)

summary(B1)</code></pre>
</div>
<p>You can see that we have a highly significant negative relationship between distance and the relative abundance of birds. Before we go any further we should check our diagnostics: use the <code>plot()</code> function to generate the residuals versus fitted values plot and the qq plot of the residuals. Remember that we can choose the first two diagnostic plots by using the <code>which = 1:2</code> argument.</p>
<div class="tutorial-exercise-support" data-label="prepare-birds" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>B1 &lt;- lm(RA_Birds ~ Distance, data = gabon)</code></pre>
</div>
<div class="tutorial-exercise" data-label="bird_diagnostics" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.setup":"prepare-birds","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="bird_diagnostics-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Just use plot() with the name of your saved
# object as the first argument and which = 1:2
# as the second argument</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="bird_diagnostics-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution

# Diagnostic plots
plot(B1, which = 1:2)</code></pre>
</div>
<p>These diagnostic plots are pretty good. There’s no suggestion of any problems in the residuals versus fitted values plot and although we have some deviation from our straight line for the highest and lowest residuals in the qq plot there’s nothing that should cause us concern.</p>
<p>Now that we’re happy with our diagnostics we can think about what our regression is telling us. Here’s the summary output again.</p>
<div class="sourceCode" id="section-cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">summary</span>(B1)</span></code></pre></div>
<pre><code>
Call:
lm(formula = RA_Birds ~ Distance, data = gabon)

Residuals:
    Min      1Q  Median      3Q     Max 
-13.238  -9.389   1.028   7.820  16.035 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  76.8304     3.8901  19.750 1.73e-15 ***
Distance     -1.5312     0.2808  -5.453 1.77e-05 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 9.808 on 22 degrees of freedom
  (4 observations deleted due to missingness)
Multiple R-squared:  0.5748,    Adjusted R-squared:  0.5555 
F-statistic: 29.74 on 1 and 22 DF,  p-value: 1.771e-05</code></pre>
<p>Try to answer these questions using the summary output.</p>
<p><div class="panel-heading tutorial-quiz-title">Bird regression quiz</div><div class="panel panel-default">
<div data-label="bird_regression_quiz-1" class="tutorial-question panel-body">
<div id="bird_regression_quiz-1-answer_container" class="shiny-html-output"></div>
<div id="bird_regression_quiz-1-message_container" class="shiny-html-output"></div>
<div id="bird_regression_quiz-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div><div class="panel panel-default">
<div data-label="bird_regression_quiz-2" class="tutorial-question panel-body">
<div id="bird_regression_quiz-2-answer_container" class="shiny-html-output"></div>
<div id="bird_regression_quiz-2-message_container" class="shiny-html-output"></div>
<div id="bird_regression_quiz-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div></p>
<p>Finally, let’s visualise our fitted regression by replotting our scatterplot and using the <code>abline()</code> function to add a line. <em>Top tip</em> — if you give <code>abline()</code> the name of a fitted linear regression object as an argument it will extract the intercept and slope itself and draw the fitted line for you.</p>
<div class="tutorial-exercise" data-label="birds_regression_plot" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="8">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.setup":"prepare-birds","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="birds_regression_plot-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># You can paste in the scatterplot code from the previous exercise
# Then add the abline() function</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="birds_regression_plot-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution

plot(RA_Birds ~ Distance,
     data = gabon,
     xlab = &quot;Distance from nearest village (Km)&quot;,
     ylab = &quot;Relative abundance of birds&quot;)

abline(B1)</code></pre>
</div>
<p>1: Koerner, S.E., Poulsen, J.R., Blanchard, E.J., Okouyi, J. &amp; Clark, C.J. (2017) Vertebrate community composition and diversity declines along a defaunation gradient radiating from rural villages in Gabon. The Journal of applied ecology, 54, 805–814.</p>
</div>
<div id="section-exercise-2-analysing-ungulate-abundance-near-villages-in-gabon" class="section level2">
<h2>Exercise 2: analysing ungulate abundance near villages in Gabon</h2>
<p>As a second exercise, we’ll look at the relative abundance of ungulates and how it changes with distance from the nearest village in Gabon, using the same dataset. As before, the first thing to do is to look at a scatterplot. You should be able to do this based on what we’ve done already — the variable name for ungulate relative abundance is <code>RA_Ungulate</code>.</p>
<div class="tutorial-exercise" data-label="ungulates_scatterplot" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="5">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ungulates_scatterplot-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Use the plot() function and put in a formula
# with RA_Ungulate as the response variable, then 
# a tilde ~ and then the explanatory variable which
# is Distance
# 
# Specify appropriate x- and y-axis labels using
# xlab =  and ylab =
# 
# You also need to include the data = gabon argument</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ungulates_scatterplot-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Here&#39;s a code framework for you to adapt:

plot(response ~ explanatory,
     data = gabon,
     xlab = &quot;&quot;,
     ylab = &quot;&quot;)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ungulates_scatterplot-hint-3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Here&#39;s the solution:

plot(RA_Ungulate ~ Distance,
     data = gabon,
     xlab = &quot;Distance from nearest village (Km)&quot;,
     ylab = &quot;Relative abundance of ungulates&quot;)</code></pre>
</div>
<p>Looking at the plot, you can see that there seems to be something of a positive relationship between the variables, with higher values for ungulate relative abundance associated with longer distances from the nearest village. The pattern is less clear than for our birds however, and the data seem to be rather wedge-shaped, with more spread associated with longer distances. Let’s fit a model and save it as an object called U1, and then call up a summary using <code>summary()</code></p>
<div class="tutorial-exercise" data-label="ungulates_mod1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ungulates_mod1-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>#Here is a code framework to help you

Name &lt;- lm(response ~ explanatory, data = gabon)

summary()</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ungulates_mod1-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution

U1 &lt;- lm(RA_Ungulate ~ Distance, data = gabon)

summary(U1)</code></pre>
</div>
<p>OK, that seems to have worked and the summary is telling us that we have a significant relationship between distance and ungulate relative abundance. Let’s jump straight in and look at the diagnostics. Once again we just want the first two plots so specify <code>which = 1:2</code> as an argument to <code>plot()</code>.</p>
<div class="tutorial-exercise-support" data-label="prepare-ungulates" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>U1 &lt;- lm(RA_Ungulate ~ Distance, data = gabon)</code></pre>
</div>
<div class="tutorial-exercise" data-label="ungulate_diagnostics" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.setup":"prepare-ungulates","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="ungulate_diagnostics-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># Just use plot() with the name of your saved
# object as the first argument and which = 1:2
# as the second argument</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="ungulate_diagnostics-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution

plot(U1, which = 1:2)</code></pre>
</div>
<p>Look at these residual plots and try to answer these questions.</p>
<p><div class="panel-heading tutorial-quiz-title">Ungulate diagnostics</div><div class="panel panel-default">
<div data-label="ungulate_diagnostics_quiz-1" class="tutorial-question panel-body">
<div id="ungulate_diagnostics_quiz-1-answer_container" class="shiny-html-output"></div>
<div id="ungulate_diagnostics_quiz-1-message_container" class="shiny-html-output"></div>
<div id="ungulate_diagnostics_quiz-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div><div class="panel panel-default">
<div data-label="ungulate_diagnostics_quiz-2" class="tutorial-question panel-body">
<div id="ungulate_diagnostics_quiz-2-answer_container" class="shiny-html-output"></div>
<div id="ungulate_diagnostics_quiz-2-message_container" class="shiny-html-output"></div>
<div id="ungulate_diagnostics_quiz-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div></p>
</div>
<div id="section-exercise-3-dealing-with-heteroskedastic-data" class="section level2">
<h2>Exercise 3 dealing with heteroskedastic data</h2>
<p>The residuals versus fitted values plot for our ungulate regression confirms what we thought might be the case with regards to the increasing variance in the data as the distance from the nearest village increases. This means that we have <em>heteroskedastic</em> data and this is not an ideal one for fitting a linear model. We have a number of options now to try to deal with this. They are:</p>
<ol style="list-style-type: decimal">
<li>Ignore it on the grounds that linear models are robust to violations of these assumptions</li>
<li>Use an analysis which allows us to explicitly model the changing variance with the increasing distance (e.g. a weighted least squares approach using the <code>gls()</code> function from the nlme package).</li>
<li>Transform our response variable somehow so that it is better behaved and reanalyse.</li>
</ol>
<p>Option 1 has its merits and we could consider this depending on what we’re trying to do. If we’re really just concerned about demonstrating that there’s a relationship between the two variables and aren’t particularly bothered about how well our line is estimated this might be OK (although if that’s the case why not just do a correlation analysis?). If, however, we want do something like compare the degree of change with distance between ungulates and other mammal groups then we want our estimate of the slope and intercept to be as good as possible and we might not want to just leave it as it is.</p>
<p>Option 2 is definitely a possibility but it’s a little advanced for our purposes and probably best left for another day.</p>
<p>This leaves us with option 3: transform our data and reanalyse. There are lots of options here and the most common approach would be repeat the analysis with log transformed data: taking logs has a bigger effect on large values than on small values, so it tends to reduce variance more for large values than for small ones. Log transforming these data isn’t completely straightforward, however, because we have one data point with a value of zero and the log of this is -infinity. One solution to this is to add some constant, for example 1, to each datapoint before taking logs. This works and is something that is done a lot but it does mean we’re changing our data quite a lot before analysing it and also the choice of constant (should we use 0.1? 1? 100?) can alter the distribution of the data and change the output of the analysis.</p>
<p>An alternative to log-transformation is to use a square root transformation. This alters the distribution of the data somewhat less than a log transformation and also avoids the problem with the zero value in the dataset. Try refitting the model to the square root of relative abundance and check the diagnostic plots again. Remember that you can do the transformation within the formula in the <code>lm()</code> function call. Call your new model object <a href="https://en.wikipedia.org/wiki/Wikipedia:Lamest_edit_wars">U2</a>.</p>
<div class="tutorial-exercise" data-label="sqrt_lm" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="sqrt_lm-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># The function to calculate a square root is sqrt()</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="sqrt_lm-hint-2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># The arguments you want in your lm() function call is

sqrt(RA_Ungulate) ~ Distance, data = gabon</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="sqrt_lm-hint-3" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># To plot the diagnostics you want:

plot(U2, which = 1:2)</code></pre>
</div>
<div class="tutorial-exercise-support" data-label="sqrt_lm-hint-4" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># This is the solution

U2 &lt;- lm(sqrt(RA_Ungulate) ~ Distance, data = gabon)

plot(U2, which = 1:2)</code></pre>
</div>
<p>You can see that the residuals versus fitted values plot no longer has that wedge shape, and also that the qq plot looks rather better. Let’s look at the summary output for our new model.</p>
<div class="tutorial-exercise-support" data-label="prepare-ungulates2" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code>U2 &lt;- lm(sqrt(RA_Ungulate) ~ Distance, data = gabon)</code></pre>
</div>
<div class="tutorial-exercise" data-label="sqrt_lm_summary" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<script type="application/json" data-opts-chunk="1">{"fig.width":5,"fig.height":5,"fig.retina":2,"fig.align":"default","fig.keep":"high","fig.show":"asis","out.width":480,"warning":true,"error":false,"message":true,"exercise.df_print":"paged","exercise.setup":"prepare-ungulates2","exercise.checker":"NULL"}</script>
</div>
<div class="tutorial-exercise-support" data-label="sqrt_lm_summary-hint-1" data-caption="Code" data-completion="1" data-diagnostics="1" data-startover="1" data-lines="0">
<pre class="text"><code># You just need to call summary on the U2 object

summary(U2)</code></pre>
</div>
<p>Here are some questions about the summary table. Remember this regression was fitted to the square root transformed relative abundance data, not the raw data.</p>
<p><div class="panel-heading tutorial-quiz-title">Ungulate regression quiz</div><div class="panel panel-default">
<div data-label="ungulate_regression_quiz-1" class="tutorial-question panel-body">
<div id="ungulate_regression_quiz-1-answer_container" class="shiny-html-output"></div>
<div id="ungulate_regression_quiz-1-message_container" class="shiny-html-output"></div>
<div id="ungulate_regression_quiz-1-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div><div class="panel panel-default">
<div data-label="ungulate_regression_quiz-2" class="tutorial-question panel-body">
<div id="ungulate_regression_quiz-2-answer_container" class="shiny-html-output"></div>
<div id="ungulate_regression_quiz-2-message_container" class="shiny-html-output"></div>
<div id="ungulate_regression_quiz-2-action_button_container" class="shiny-html-output"></div>
<script>if (Tutorial.triggerMathJax) Tutorial.triggerMathJax()</script>
</div>
</div></p>
<p>Finally, we need to visualise our data with the fitted model. We could plot the transformed data with the straight line we’ve fitted, but that would not allow for useful comparisons with other analyses where we haven’t transformed the data, such as the birds. Furthermore, plotting the transformed data it makes it harder to get a good understanding of the pattern we’ve ddescribed in our data. A better option is to plot the back transformed predicted values onto the untransformed data. There are a variety of ways to do this but one option is to use the <code>curve()</code> function like this.</p>
<div class="sourceCode" id="section-cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="co"># Plot the data</span></span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="kw">plot</span>(RA_Ungulate <span class="op">~</span><span class="st"> </span>Distance,</span>
<span id="cb50-3"><a href="#cb50-3"></a>     <span class="dt">data =</span> gabon,</span>
<span id="cb50-4"><a href="#cb50-4"></a>     <span class="dt">xlab =</span> <span class="st">&quot;Distance from nearest village (Km)&quot;</span>,</span>
<span id="cb50-5"><a href="#cb50-5"></a>     <span class="dt">ylab =</span> <span class="st">&quot;Relative abundance of ungulates&quot;</span>)</span>
<span id="cb50-6"><a href="#cb50-6"></a></span>
<span id="cb50-7"><a href="#cb50-7"></a><span class="co"># Generate a function which calculates backtransformed </span></span>
<span id="cb50-8"><a href="#cb50-8"></a><span class="co"># predicted values </span></span>
<span id="cb50-9"><a href="#cb50-9"></a>U2_fitted &lt;-<span class="st"> </span><span class="cf">function</span> (x) (<span class="fl">0.6997</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.0912</span> <span class="op">*</span><span class="st"> </span>x)<span class="op">^</span><span class="dv">2</span></span>
<span id="cb50-10"><a href="#cb50-10"></a></span>
<span id="cb50-11"><a href="#cb50-11"></a><span class="co"># Draw the function on with curve. NB add = TRUE</span></span>
<span id="cb50-12"><a href="#cb50-12"></a><span class="co"># means that the curve is plotted over the previous plot,</span></span>
<span id="cb50-13"><a href="#cb50-13"></a><span class="co"># otherwise it will generate a new graph.</span></span>
<span id="cb50-14"><a href="#cb50-14"></a><span class="kw">curve</span>(U2_fitted, <span class="dt">add =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<img src="Linear-models-2--Linear-Regression_files/figure-html/unnamed-chunk-14-1.png" width="480" /> 
<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
knitr::opts_chunk$set(echo = TRUE, comment = NA, fig.width = 5, fig.height = 5)

gabon <- read.csv("https://github.com/rjknell/Linear_models/raw/master/data/Koerner_et_al_2017.csv", stringsAsFactors = TRUE)

</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
session$onSessionEnded(function() {
        learnr:::session_stop_event(session)
      })
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-structure-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-structure-code-editor`)), session)
output$`tutorial-exercise-structure-output` <- renderUI({
  `tutorial-exercise-structure-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-bird_plot-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-bird_plot-code-editor`)), session)
output$`tutorial-exercise-bird_plot-output` <- renderUI({
  `tutorial-exercise-bird_plot-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-bird_regression-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-bird_regression-code-editor`)), session)
output$`tutorial-exercise-bird_regression-output` <- renderUI({
  `tutorial-exercise-bird_regression-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-bird_diagnostics-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-bird_diagnostics-code-editor`)), session)
output$`tutorial-exercise-bird_diagnostics-output` <- renderUI({
  `tutorial-exercise-bird_diagnostics-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "bird_regression_quiz-1",     question = structure("Which of the following are true?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_990168b",         option = "At a distance of zero the relative abundance of birds is predicted to be 16.035",         value = "At a distance of zero the relative abundance of birds is predicted to be 16.035",         label = structure("At a distance of zero the relative abundance of birds is predicted to be 16.035", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 1: The estimated relative abundance of birds at a distance of zero is given by the intercept ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8cd73b1",         option = "At a distance of 10Km the relative abundance of birds is predicted to be 76.83",         value = "At a distance of 10Km the relative abundance of birds is predicted to be 76.83",         label = structure("At a distance of 10Km the relative abundance of birds is predicted to be 76.83", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_17b362c",         option = "At a distance of zero the relative abundance of birds is predicted to be 76.83",         value = "At a distance of zero the relative abundance of birds is predicted to be 76.83",         label = structure("At a distance of zero the relative abundance of birds is predicted to be 76.83", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_96040e5",         option = "At a distance of 20Km the relative abundance of birds is predicted to be 46.21",         value = "At a distance of 20Km the relative abundance of birds is predicted to be 46.21",         label = structure("At a distance of 20Km the relative abundance of birds is predicted to be 46.21", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5c9ddf5",         option = "At a distance of 5Km the relative abundance of birds is predicted to be 84.49",         value = "At a distance of 5Km the relative abundance of birds is predicted to be 84.49",         label = structure("At a distance of 5Km the relative abundance of birds is predicted to be 84.49", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 5: This is calculated incorrectly with the slope being positive rather than negative", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html",     "character")), try_again = structure("Incorrect", html = TRUE, class = c("html",     "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "bird_regression_quiz-1-answer", question = "bird_regression_quiz-1"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following are true?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = FALSE, allow_retry = FALSE,     seed = 491751757.77101, options = list()), class = c("learnr_checkbox", "tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "bird_regression_quiz-2",     question = structure("Which of the following are true?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_ee2a108",         option = "For every Km distance from the nearest village, the relative abundance of birds is predicted to decline by 0.281%",         value = "For every Km distance from the nearest village, the relative abundance of birds is predicted to decline by 0.281%",         label = structure("For every Km distance from the nearest village, the relative abundance of birds is predicted to decline by 0.281%", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 1: 0.281 is the standard error of the slope, not the slope itself ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_3c16fca",         option = "For every Km distance from the nearest village, the relative abundance of birds is predicted to decline by 1.53%",         value = "For every Km distance from the nearest village, the relative abundance of birds is predicted to decline by 1.53%",         label = structure("For every Km distance from the nearest village, the relative abundance of birds is predicted to decline by 1.53%", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_174c2e5",         option = "The fitted model explains 57.5% of the total variance in the response variable",         value = "The fitted model explains 57.5% of the total variance in the response variable",         label = structure("The fitted model explains 57.5% of the total variance in the response variable", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_5b947a1",         option = "The fitted model explains 55.5% of the total variance in the response variable",         value = "The fitted model explains 55.5% of the total variance in the response variable",         label = structure("The fitted model explains 55.5% of the total variance in the response variable", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 4: This value is the adjusted R-squared, which is not really informative here. You want the multiple R-squared ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_8a87ce0",         option = "The intercept is significantly different from zero",         value = "The intercept is significantly different from zero",         label = structure("The intercept is significantly different from zero", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_9a039c1",         option = "The slope of the fitted line is not significantly different from zero",         value = "The slope of the fitted line is not significantly different from zero",         label = structure("The slope of the fitted line is not significantly different from zero", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 6: The null hypothesis for the test of significance of the regression is that the slope is zero. Our p-value is 0.0000177 (1.77e-05) which is well below the cut off of 0.05 so we will reject the null", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html",     "character")), try_again = structure("Incorrect", html = TRUE, class = c("html",     "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "bird_regression_quiz-2-answer", question = "bird_regression_quiz-2"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following are true?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = FALSE, allow_retry = FALSE,     seed = 2081401383.03077, options = list()), class = c("learnr_checkbox", "tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-birds_regression_plot-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-birds_regression_plot-code-editor`)), session)
output$`tutorial-exercise-birds_regression_plot-output` <- renderUI({
  `tutorial-exercise-birds_regression_plot-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ungulates_scatterplot-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ungulates_scatterplot-code-editor`)), session)
output$`tutorial-exercise-ungulates_scatterplot-output` <- renderUI({
  `tutorial-exercise-ungulates_scatterplot-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ungulates_mod1-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ungulates_mod1-code-editor`)), session)
output$`tutorial-exercise-ungulates_mod1-output` <- renderUI({
  `tutorial-exercise-ungulates_mod1-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-ungulate_diagnostics-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-ungulate_diagnostics-code-editor`)), session)
output$`tutorial-exercise-ungulate_diagnostics-output` <- renderUI({
  `tutorial-exercise-ungulate_diagnostics-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "ungulate_diagnostics_quiz-1",     question = structure("What do you conclude from the plot of residuals versus fitted values?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_7de3036",         option = "There is no pattern and so our fitted model seems valid",         value = "There is no pattern and so our fitted model seems valid",         label = structure("There is no pattern and so our fitted model seems valid", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_b7f7240",         option = "The plot is mostly OK but there are a couple of data points with large negative residuals that could be influencing our results",         value = "The plot is mostly OK but there are a couple of data points with large negative residuals that could be influencing our results",         label = structure("The plot is mostly OK but there are a couple of data points with large negative residuals that could be influencing our results", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_4bdc337",         option = "There is strong evidence that the relationship is actually non-linear",         value = "There is strong evidence that the relationship is actually non-linear",         label = structure("There is strong evidence that the relationship is actually non-linear", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_659f365",         option = "There is a wedge-shaped pattern of residuals, indicating that the variance is increasing with increasing distance",         value = "There is a wedge-shaped pattern of residuals, indicating that the variance is increasing with increasing distance",         label = structure("There is a wedge-shaped pattern of residuals, indicating that the variance is increasing with increasing distance", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html",     "character")), try_again = structure("Incorrect", html = TRUE, class = c("html",     "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "ungulate_diagnostics_quiz-1-answer", question = "ungulate_diagnostics_quiz-1"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhat do you conclude from the plot of residuals versus fitted values?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = FALSE, allow_retry = FALSE,     seed = 102236844.952392, options = list()), class = c("learnr_radio", "tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_radio", label = "ungulate_diagnostics_quiz-2",     question = structure("What do you conclude from the qq plot of the residuals?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_8378c41",         option = "Most residuals are approximately normally distributed but there are a few data points with high positive residuals which are more positive than we would expect if they were following a normal distribution",         value = "Most residuals are approximately normally distributed but there are a few data points with high positive residuals which are more positive than we would expect if they were following a normal distribution",         label = structure("Most residuals are approximately normally distributed but there are a few data points with high positive residuals which are more positive than we would expect if they were following a normal distribution", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_cf05fd1",         option = "Most residuals are approximately normally distributed but there are a few data points with high positive residuals which have smaller values than we would expect if they were following a normal distribution",         value = "Most residuals are approximately normally distributed but there are a few data points with high positive residuals which have smaller values than we would expect if they were following a normal distribution",         label = structure("Most residuals are approximately normally distributed but there are a few data points with high positive residuals which have smaller values than we would expect if they were following a normal distribution", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_dcebac3",         option = "The qq-plot shows the typical pattern found when the errors are positively skewed",         value = "The qq-plot shows the typical pattern found when the errors are positively skewed",         label = structure("The qq-plot shows the typical pattern found when the errors are positively skewed", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_293174b",         option = "The qq plot shows that the residuals are following a Poisson distribution",         value = "The qq plot shows that the residuals are following a Poisson distribution",         label = structure("The qq plot shows that the residuals are following a Poisson distribution", html = TRUE, class = c("html",         "character")), correct = FALSE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html",     "character")), try_again = structure("Incorrect", html = TRUE, class = c("html",     "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "ungulate_diagnostics_quiz-2-answer", question = "ungulate_diagnostics_quiz-2"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhat do you conclude from the qq plot of the residuals?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = FALSE, allow_retry = FALSE,     seed = 1856338976.63557, options = list()), class = c("learnr_radio", "tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-sqrt_lm-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-sqrt_lm-code-editor`)), session)
output$`tutorial-exercise-sqrt_lm-output` <- renderUI({
  `tutorial-exercise-sqrt_lm-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
`tutorial-exercise-sqrt_lm_summary-result` <- learnr:::setup_exercise_handler(reactive(req(input$`tutorial-exercise-sqrt_lm_summary-code-editor`)), session)
output$`tutorial-exercise-sqrt_lm_summary-output` <- renderUI({
  `tutorial-exercise-sqrt_lm_summary-result`()
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "ungulate_regression_quiz-1",     question = structure("Which of the following are true?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_3f880a5",         option = "At a distance of zero the relative abundance of ungulates is predicted to be 0.490",         value = "At a distance of zero the relative abundance of ungulates is predicted to be 0.490",         label = structure("At a distance of zero the relative abundance of ungulates is predicted to be 0.490", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_349483c",         option = "At a zero  the relative abundance of ungulates is predicted to be 0.699",         value = "At a zero  the relative abundance of ungulates is predicted to be 0.699",         label = structure("At a zero  the relative abundance of ungulates is predicted to be 0.699", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 2: this is the square root of the predicted realtive abundance of ungulates. You need to square the predicted values to get predicted relative abundances ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_d3b068",         option = "At a distance of 10km the relative abundance of ungulates is predicted to be 1.611",         value = "At a distance of 10km the relative abundance of ungulates is predicted to be 1.611",         label = structure("At a distance of 10km the relative abundance of ungulates is predicted to be 1.611", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 3: You need to square the predicted values to get predicted relative abundances ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_6160670",         option = "At a distance of 20Km the relative abundance of ungulates is predicted to be 6.36",         value = "At a distance of 20Km the relative abundance of ungulates is predicted to be 6.36",         label = structure("At a distance of 20Km the relative abundance of ungulates is predicted to be 6.36", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html",     "character")), try_again = structure("Incorrect", html = TRUE, class = c("html",     "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "ungulate_regression_quiz-1-answer", question = "ungulate_regression_quiz-1"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following are true?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = FALSE, allow_retry = FALSE,     seed = 1855822969.63582, options = list()), class = c("learnr_checkbox", "tutorial_question")))
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::question_prerendered_chunk(structure(list(type = "learnr_checkbox", label = "ungulate_regression_quiz-2",     question = structure("Which of the following are true?", html = TRUE, class = c("html",     "character")), answers = list(structure(list(id = "lnr_ans_9b7ef01",         option = "For every Km distance from the nearest village, the relative abundance of ungulates is predicted to increase by 0.0912",         value = "For every Km distance from the nearest village, the relative abundance of ungulates is predicted to increase by 0.0912",         label = structure("For every Km distance from the nearest village, the relative abundance of ungulates is predicted to increase by 0.0912", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 1: This is the slope for the relationship  between the square root of relative abundance and distance ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_dd48b1e",         option = "For every Km distance from the nearest village, the square root of the relative abundance of ungulates is predicted to increase by 0.0912",         value = "For every Km distance from the nearest village, the square root of the relative abundance of ungulates is predicted to increase by 0.0912",         label = structure("For every Km distance from the nearest village, the square root of the relative abundance of ungulates is predicted to increase by 0.0912", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_445bb85",         option = "The fitted model explains 42.7% of the total variance in the response variable",         value = "The fitted model explains 42.7% of the total variance in the response variable",         label = structure("The fitted model explains 42.7% of the total variance in the response variable", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_d5ef70a",         option = "The intercept is not significantly different from zero",         value = "The intercept is not significantly different from zero",         label = structure("The intercept is not significantly different from zero", html = TRUE, class = c("html",         "character")), correct = FALSE, message = structure("Answer 4: it is significantly different from zero as you can see from the marginal p-value of 0.035 ", html = TRUE, class = c("html",         "character"))), class = c("tutorial_question_answer",     "tutorial_quiz_answer")), structure(list(id = "lnr_ans_409ecea",         option = "The slope of the fitted line is significantly different from zero",         value = "The slope of the fitted line is significantly different from zero",         label = structure("The slope of the fitted line is significantly different from zero", html = TRUE, class = c("html",         "character")), correct = TRUE, message = NULL), class = c("tutorial_question_answer",     "tutorial_quiz_answer"))), button_labels = list(submit = structure("Submit Answer", html = TRUE, class = c("html",     "character")), try_again = structure("Try Again", html = TRUE, class = c("html",     "character"))), messages = list(correct = structure("Correct!", html = TRUE, class = c("html",     "character")), try_again = structure("Incorrect", html = TRUE, class = c("html",     "character")), incorrect = structure("Incorrect", html = TRUE, class = c("html",     "character")), message = NULL, post_message = NULL), ids = list(        answer = "ungulate_regression_quiz-2-answer", question = "ungulate_regression_quiz-2"),     loading = structure("<strong>Loading:<\u002fstrong> \nWhich of the following are true?\n<br/><br/><br/>", html = TRUE, class = c("html",     "character")), random_answer_order = FALSE, allow_retry = FALSE,     seed = 17121091.4920274, options = list()), class = c("learnr_checkbox", "tutorial_question")))
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js","codefolding.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["idb-keyvalue"]},{"type":"character","attributes":{},"value":["3.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/idb-keyval"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["idb-keyval-iife-compat.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ace"]},{"type":"character","attributes":{},"value":["1.2.6"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/ace"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["ace.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["clipboardjs"]},{"type":"character","attributes":{},"value":["1.5.15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/clipboardjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["clipboard.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]}},"value":[{"type":"character","attributes":{},"value":["backports","base","checkmate","compiler","datasets","digest","ellipsis","evaluate","fastmap","graphics","grDevices","highr","htmltools","htmlwidgets","httpuv","jsonlite","knitr","later","learnr","magrittr","markdown","methods","mime","promises","R6","Rcpp","rlang","rmarkdown","rprojroot","shiny","stats","stringi","stringr","tools","utils","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["1.1.6","4.0.0","2.0.0","4.0.0","4.0.0","0.6.25","0.3.0","0.14","1.0.1","4.0.0","4.0.0","0.8","0.4.0","1.5.1","1.5.2","1.6.1","1.28","1.0.0","0.10.1","1.5","1.1","4.0.0","0.9","1.1.0","2.4.1","1.0.4.6","0.4.6","2.1","1.3-2","1.4.0.2","4.0.0","1.4.6","1.4.0","4.0.0","4.0.0","2.2.0","0.13","1.8-4","2.2.1"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Linear models 2: Linear Regression</h2>
<h4 class="author"><em>Rob Knell</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
